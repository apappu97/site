<h1 class="codeBold">Team Videos <img ng-click ="showUploadForm()" class="icon" src="/assets/plus_icon.png"></img></h1>
<br>
<div ng-show="errorStatus" class="alert alert-error">
	<a class="close" data-dismiss="alert">×</a>
	{{errorStatus}}
</div>
<div ng-show="successStatus" class="alert alert-success">
	<a class="close" data-dismiss="alert">×</a>
	{{successStatus}}
</div>
<form ng-show="isUploadable">
	<input ng-model="link" type="text" placeholder="Youtube link" required></input> <br />
	<input ng-model="description" type="text" placeholder="Description"></input> <br />
	Send Email <input ng-model="sendEmail" type="checkbox"></input> <br />
	<br></br>
	<button ng-click="click()">Add video!</button>
</form>

<div class="vidContainer" ng-repeat="video in pagedItems[currentPage]">
	<div class="row-fluid">
		<div class="span8">
			<iframe class="youtube-player" type="text/html" width="640" height="400" src="http://www.youtube.com/embed/{{video.vid}}" allowfullscreen frameborder="1"></iframe>
		</div>
		<div class="span3">
			<img class="delete" ng-click="deleteVid(video.id)" src="/assets/x.png"></img>
			<div class="videoText">
				<p class="videoDescription sans">{{video.description}}</p>
				<p class="sans"><a href="/users/sunet?sunet={{video.uploader}}">{{video.uploader}}</a><br><span class="videoTime">Added {{video.created_at | fromNow}}</span></p>
 			</div>
 			<div>
	 			<button ng-click="markCommentsShown(video.id)" ng-show="!areCommentsShown(video.id)">Comments ({{videoComments[video.id].length}})</button>
	 			<div class="commentBox" ng-show="areCommentsShown(video.id)">
	 				<ul class="listStyle">
	 					<li ng-repeat="c in videoComments[video.id]" ng-class-odd="'oddListItem'" ng-class-even="'evenListItem'" class="listItem">
	 						{{c.comment}} <br/>
	 						<span class="videoTime">By <a href="/users/sunet?sunet={{video.uploader}}">{{c.author}}</a> {{c.created_at | fromNow}} </span>
	 					</li>
	 				</ul>
	 				<form name="commentForm">
						<input type="text" class="input-large inputMargin" placeholder="Comment" ng-model="form.comment" required />
						<button ng-click="save(video.id)" ng-disabled="isAddDisabled()">Add</button>
					</form>
	 			</div>
 			</div>
 		</div>
 	</div>
 </div>

 <div class="pagination pull-right">
  <ul>
    <li ng-class="{disabled: currentPage == 0}">
      <a href ng-click="prevPage()">« Prev</a>
    </li>
    <li ng-repeat="n in range(pagedItems.length)"
        ng-class="{active: n == currentPage}"
    		ng-click="setPage()">
      <a href ng-bind="n + 1">1</a>
    </li>
    <li ng-class="{disabled: currentPage == pagedItems.length - 1}">
      <a href ng-click="nextPage()">Next »</a>
    </li>
  </ul>
</div>
